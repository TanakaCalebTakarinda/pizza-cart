<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfect Pizza</title>
    <link rel="stylesheet" href="style.css">
    <script src="//unpkg.com/alpinejs" defer></script>
</head>

<body>
    <div class="highest" x-data="{showCart: false, 
        largeTotal: 0, largeQty:0,
         mediumTotal: 0, mediumQty:0, 
         smallTotal: 0, smallQty:0, 
         paymentAmount: 0,
         paymentMessage: '',
         cartTotal(){
            return this.largeTotal + this.mediumTotal + this.smallTotal
         },
         buylarge(){
            this.largeTotal += 150;
            this.largeQty+=1
         },
         buymedium(){
            this.mediumTotal += 120;
            this.mediumQty+=1
         },
         buysmall(){
            this.smallTotal += 90;
            this.smallQty+=1
         },
         uylarge(){
            if(this.largeQty > 0){
            this.largeTotal -= 150;
            this.largeQty-=1}
         },
         uymedium(){
            if(this.mediumQty > 0){
            this.mediumTotal -= 120;
            this.mediumQty-=1}
         },
         uysmall(){
            if(this.smallQty > 0){
            this.smallTotal -= 90;
            this.smallQty-=1}
         },
         payNow:false,
         makePayment(){
            if (!this.paymentAmount){
                this.paymentMessage = 'Oops, amount added!'
            }
            if (this.paymentAmount >= this.cartTotal() ){
                this.paymentMessage = 'Payment made!'

                setTimeout(() => {
                    this.payNow = false;
                    this.clearCart()
                },3000);}
                
                else{
                    this.paymentMessage = 'Payment failed'
                }
         },
         clearCart(){
           this.largeTotal= 0;
           this.largeQty = 0;
           this.mediumTotal = 0;
           this.mediumQty = 0 ;
           this.smallTotal = 0; 
           this.smallQty = 0; 
         }
        }">
        <div class="Head">
            <h1> Perfect pizza</h1>
        </div>
        <div class="nice">
            <div class="y2">
                <div class="pi">
                    <img src="pizzapic/pizman.jpg" width="100" alt="">
                </div>

                <div class="slice">
                    <h2 style="color: rgb(119, 23, 128);">A slice of heaven!!!!</h2>
                </div>
            </div>
            <div class="bask">
                <button x-on:click="showCart=true">
                    <img src="./pizzapic/basket.jpg" width="45" alt="">
                    Show Cart
                </button>
                <strong> R<span x-text="cartTotal().toFixed(2)"></span></strong>

                <!-- <a href="" class=" basklink">
                    <img src="./pizzapic/basket.jpg" width="45" alt="">
                    <strong>R0.00</strong>
                </a> -->
            </div>
        </div>
        <div class="cartb" x-show="showCart">
            <div>
                <button x-on:click="showCart=false">
                    <img src="./pizzapic/basket.jpg" width="45" alt="">
                    Close cart
                </button>
            </div>
            <table>
                <tr x-show="largeQty>0">
                    <td>Large</td>
                    <td>
                        <span x-text="largeQty"></span>
                        <button x-on:click="buylarge">+</button>
                        <button x-on:click="uylarge">-</button>
                    </td>
                    <td>
                        R<span x-text="largeTotal.toFixed(2)">

                        </span>
                    </td>
                </tr>
                <tr x-show="mediumQty>0">
                    <td>Medium</td>
                    <td>
                        <span x-text="mediumQty"></span>
                        <button x-on:click="buymedium">+</button>
                        <button x-on:click="uymedium">-</button>
                    </td>
                    <td>
                        R<span x-text="mediumTotal.toFixed(2)">
                        </span>
                    </td>
                </tr>
                <tr x-show="smallQty>0">
                    <td>Small</td>
                    <td>
                        <span x-text="smallQty"></span>
                        <button x-on:click="buysmall">+</button>
                        <button x-on:click="uysmall">-</button>
                    </td>
                    <td>
                        R<span x-text="smallTotal.toFixed(2)">
                        </span>

                    </td>
                </tr>
                <tr x-show="cartTotal()>0">
                    <td colspan="2">Total cost</td>
                    <td>
                        R<span x-text="cartTotal().toFixed(2)"></span>

                    </td>
                </tr>
                <tr x-show="cartTotal()>0">
                    <td colspan="2">
                        <div x-show="payNow">
                            <div class="message" x-text="paymentMessage">
                            </div>
                            <div>
                                <label for="">Payment Amount</label>
                                <input class="input" type="number" placeholder="Payment amount" x-model="paymentAmount">
                                <button x-on:click="makePayment" class="btnn">PAYMENT</button>
                            </div>
                        </div>


                    </td>
                    <td>
                        <button x-on:click="payNow=true" x-show="!payNow" class="btnn">
                            PAY
                        </button>
                    </td>
                </tr>
            </table>
        </div>
        <div class="container">
            <div class="box Large">
                <h2>Large</h2>
                <img src="pizzapic/piz1.jpg" width="200" alt="">
                <h3>R150.00</h3>
                <div>
                    -Best bacon and egg pizza in the country

                </div>
                <div>-Rabbit and spinach</div>
                <div>-Vegans Diet, Broccoli and carrot</div>
                <button class="btn" x-on:click="largeTotal += 150;largeQty+=1">
                    Buy
                </button>
            </div>

            <div class="box Medium">
                <h2>Medium</h2>
                <img src="pizzapic/piz2.webp" width="240" alt="">
                <h3>R120.00</h3>
                <div>
                    -Best cheese and lamb pizza
                </div>
                <div>-Avocado delight</div>
                <div>-Chicken splash</div>
                <button class="btn" x-on:click="mediumTotal += 120;mediumQty+=1">
                    Buy
                </button>
            </div>


            <div class="box Small">
                <h2>Small</h2>
                <img src="pizzapic/piz3.jpg" width="140" alt="">
                <h3>R90.00</h3>
                <div>
                    -chicken and biltong pizza

                </div>
                <div>-Ostrich and Kale</div>
                <div>-Cheese delight</div>
                <button class="btn" x-on:click="smallTotal += 90;smallQty+=1">
                    Buy
                </button>
            </div>
        </div>

        <div class="box contact">

            <h2>Contact Details</h2>
            <div> <img src="pizzapic/gif.gif" width="100" alt=""></div>
            <div style="text-align: center;">Contact us at: 0792299958</div>

            <div style="text-align: center;"> Email us at: piz@gmail.com </div>
        </div>
    </div>
</body>

</html>